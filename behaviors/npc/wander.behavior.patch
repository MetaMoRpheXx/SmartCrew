[
	{
		"op": "add",
		"path": "/scripts/-",
		"value": "/scripts/actions/smartcrew_core.lua"
	}, {
		"op": "add",
		"path": "/scripts/-",
		"value": "/scripts/actions/smartcrew_utils.lua"
	}, {
		"op": "add",
		"path": "/parameters/shipRange",
		"value": 700
	}, {
		"op": "add",
		"path": "/parameters/crewStationRange",
		"value": 2
	}, {
		"op": "replace",
		"path": "/root/children/0/children/0/children/1",
		"value": {
			"title": "selector",
			"type": "composite",
			"name": "selector",
			"parameters": {},
			"children": [
				{
					"title": null,
					"type": "composite",
					"name": "sequence",
					"parameters": {},
					"children": [
						{
							"title": "hasRecruiter",
							"type": "action",
							"name": "hasRecruiter",
							"parameters": {}
						},
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "isFollowingRecruiter",
								"type": "action",
								"name": "isFollowingRecruiter",
								"parameters": {}
							}
						},
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "inRange",
								"type": "action",
								"name": "inRange",
								"parameters": {
									"name": {
										"value": "defaultShipRange"
									},
									"position": {
										"key": "self"
									},
									"range": {
										"key": "<shipRange>"
									},
									"target": {
										"key": "home"
									}
								}
							}
						}
					]	
				},
				{
					"title": null,
					"type": "composite",
					"name": "sequence",
					"parameters": {},
					"children": [
						{
							"title": "hasRecruiter",
							"type": "action",
							"name": "hasRecruiter",
							"parameters": {}
						},
						{
							"title": "isFollowingRecruiter",
							"type": "action",
							"name": "isFollowingRecruiter",
							"parameters": {}
						},
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "inRange",
								"type": "action",
								"name": "inRange",
								"parameters": {
									"name": {
										"value": "defaultFollowingRange"
									},
									"position": {
										"key": "self"
									},
									"range": {
										"key": "<innerHomeRange>"
									},
									"target": {
										"key": "home"
									}
								}
							}
						}
					]	
				},
				{
					"title": null,
					"type": "composite",
					"name": "sequence",
					"parameters": {},
					"children": [
						{
							"title": null,
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "hasRecruiter",
								"type": "action",
								"name": "hasRecruiter",
								"parameters": {}
							}
						},
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "inRange",
								"type": "action",
								"name": "inRange",
								"parameters": {
									"name": {
										"value": "defaultNPCRange"
									},
									"position": {
										"key": "self"
									},
									"range": {
										"key": "<outerHomeRange>"
									},
									"target": {
										"key": "home"
									}
								}
							}
						}
					]	
				}
			]
		}
	}, {
		"op": "replace",
		"path": "/root/children/0/children/0/children/2",
		"value": {
			"title": "parallel",
			"type": "composite",
			"name": "parallel",
			"parameters": {
				"fail": {
					"value": -1
				},
				"success": {
					"value": 1
				}
			},
			"children": [
				{
					"title": "selector",
					"type": "composite",
					"name": "selector",
					"parameters": {},
					"children": [
						{
							"title": "",
							"type": "action",
							"name": "moveToPosition",
							"parameters": {
								"pathOptions": {
									"value": {
										"returnBest": true
									}
								},
								"position": {
									"key": "home"
								},
								"run": {
									"key": "<alwaysRun>"
								}
							}
						},
						{
							"title": "parallel",
							"type": "composite",
							"name": "parallel",
							"parameters": {
								"fail": {
									"value": 2
								},
								"success": {
									"value": 2
								}
							},
							"children": [
								{
									"title": "distance",
									"type": "action",
									"name": "distance",
									"parameters": {
										"from": {
											"key": "self"
										},
										"to": {
											"key": "home"
										}
									},
									"output": {
										"x": "homeX"
									}
								},
								{
									"title": "inRange",
									"type": "action",
									"name": "inRange",
									"parameters": {
										"name": {
											"value": "defaultInnerHomeRange"
										},
										"position": {
											"key": "self"
										},
										"range": {
											"key": "<innerHomeRange>"
										},
										"target": {
											"key": "home"
										}
									}
								},
								{
									"title": "move",
									"type": "action",
									"name": "move",
									"parameters": {
										"direction": {
											"key": "homeX"
										},
										"run": {
											"value": false
										}
									}
								}
							]
						}
					]
				},
				{
					"title": "inRange",
					"type": "action",
					"name": "inRange",
					"parameters": {
						"name": {
							"value": "defaultHomeDistanceToNPC"
						},
						"position": {
							"key": "self"
						},
						"range": {
							"value": 5
						},
						"target": {
							"key": "home"
						}
					}
				}
			]
		}
	}, {
		"op": "add",
		"path": "/root/children/0/children/1/children/0",
		"value": {
			"title": null,
			"type": "decorator",
			"name": "inverter",
			"parameters": {},
			"child": {
				"title": "hasRecruiter",
				"type": "action",
				"name": "hasRecruiter",
				"parameters": {}
			}
		}
	}, {
		"op": "add",
		"path": "/root/children/0/children/2/children/0",
		"value": {
			"title": null,
			"type": "decorator",
			"name": "inverter",
			"parameters": {},
			"child": {
				"title": "hasRecruiter",
				"type": "action",
				"name": "hasRecruiter",
				"parameters": {}
			}
		}
	}, {
		"op": "add",
		"path": "/root/children/0/children/3/children/0",
		"value": {
			"title": null,
			"type": "decorator",
			"name": "inverter",
			"parameters": {},
			"child": {
				"title": "hasRecruiter",
				"type": "action",
				"name": "hasRecruiter",
				"parameters": {}
			}
		}
	}, {
		"op": "add",
		"path": "/root/children/0/children/-",
		"value": {
			"title": "Smart Crew Behavior",
			"type": "composite",
			"name": "sequence",
			"parameters": {},
			"children": [
				{
					"title": "hasRecruiter",
					"type": "action",
					"name": "hasRecruiter",
					"parameters": {}
				},
				{
					"title": "mmrx_getCrewRole",
					"type": "action",
					"name": "mmrx_getCrewRole",
					"parameters": {},
					"output": {
						"role": "crewrole"
					}
				},
				{
					"title": "",
					"type": "action",
					"name": "mmrx_crewPickScheduledTask",
					"parameters": {
						"entity": {
							"key": "self"
						},
						"role": {
							"key": "crewrole"
						}
					},
					"output": {
						"task": "crewpickedtask"
					}
				},
				{
					"title": "selector",
					"type": "composite",
					"name": "selector",
					"parameters": {},
					"children": [
						{
							"title": "work",
							"type": "composite",
							"name": "sequence",
							"parameters": {},
							"children": [
								{
									"title": "",
									"type": "action",
									"name": "mmrx_crewDoScheduledTask",
									"parameters": {
										"entity": {
											"key": "self"
										},
										"role": {
											"key": "crewrole"
										},
										"taskpick": {
											"key": "crewpickedtask"
										},
										"taskqueue": {
											"value": "work"
										}
									}
								},
								{
									"title": "mmrx_crewFindRoleAnchor",
									"type": "action",
									"name": "mmrx_crewFindRoleAnchor",
									"parameters": {
										"entity": {
											"key": "self"
										},
										"position": {
											"key": "self"
										},
										"role": {
											"key": "crewrole"
										}
									},
									"output": {
										"entity": "marker"
									}
								},
								{
									"title": "entityPosition",
									"type": "action",
									"name": "entityPosition",
									"parameters": {
										"name": {
											"value": "gtpaMarker"
										},
										"entity": {
											"key": "marker"
										}
									},
									"output": {
										"position": "station"
									}
								},
								{
									"title": "",
									"type": "composite",
									"name": "parallel",
									"parameters": {
										"fail": {
											"value": -1
										},
										"success": {
											"value": 1
										}
									},
									"children": [
										{
											"title": "",
											"type": "action",
											"name": "moveToPosition",
											"parameters": {
												"position": {
													"key": "station"
												},
												"run": {
													"key": "<alwaysRun>"
												}
											}
										},
										{
											"title": "inRange",
											"type": "action",
											"name": "inRange",
											"parameters": {
												"name": {
													"value": "station"
												},
												"position": {
													"key": "self"
												},
												"range": {
													"value": 1
												},
												"target": {
													"key": "station"
												}
											}
										}
									]
								}
							]
						}
					]
				}
			]
		}
	}
]