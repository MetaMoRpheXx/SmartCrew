[
	{
		"op": "add",
		"path": "/scripts/-",
		"value": "/scripts/actions/npc.lua"
	},
	{
		"op": "add",
		"path": "/scripts/-",
		"value": "/scripts/actions/smartcrew_core.lua"
	}, {
		"op": "add",
		"path": "/scripts/-",
		"value": "/scripts/actions/smartcrew_utils.lua"
	}, {
		"op": "add",
		"path": "/parameters/shipRange",
		"value": 450
	}, {
		"op": "add",
		"path": "/parameters/crewStationRange",
		"value": 2
	}, {
		"op": "replace",
		"path": "/root/children/0/children/0/children/1",
		"value": {
			"title": "followRangeSelector",
			"type": "composite",
			"name": "selector",
			"parameters": {},
			"children": [
				{
					"title": "rangeRecruiterNotFollow",
					"type": "composite",
					"name": "sequence",
					"parameters": {},
					"children": [
						{
							"title": "hasRecruiter",
							"type": "action",
							"name": "hasRecruiter",
							"parameters": {}
						},
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "isFollowingRecruiter",
								"type": "action",
								"name": "isFollowingRecruiter",
								"parameters": {}
							}
						},
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "inRange",
								"type": "action",
								"name": "inRange",
								"parameters": {
									"name": {"value": "defaultShipRange"},
									"position": {"key": "self"},
									"range": {"key": "<shipRange>"},
									"target": {"key": "home"}
								}
							}
						}
					]	
				},
				{
					"title": "rangeRecruiterFollow",
					"type": "composite",
					"name": "sequence",
					"parameters": {},
					"children": [
						{
							"title": "hasRecruiter",
							"type": "action",
							"name": "hasRecruiter",
							"parameters": {}
						},
						{
							"title": "isFollowingRecruiter",
							"type": "action",
							"name": "isFollowingRecruiter",
							"parameters": {}
						},
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "inRange",
								"type": "action",
								"name": "inRange",
								"parameters": {
									"name": {"value": "defaultFollowingRange"},
									"position": {"key": "self"},
									"range": {"key": "<innerHomeRange>"},
									"target": {"key": "home"}
								}
							}
						}
					]	
				},
				{
					"title": "rangeDefault",
					"type": "composite",
					"name": "sequence",
					"parameters": {},
					"children": [
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "hasRecruiter",
								"type": "action",
								"name": "hasRecruiter",
								"parameters": {}
							}
						},
						{
							"title": "inverter",
							"type": "decorator",
							"name": "inverter",
							"parameters": {},
							"child": {
								"title": "inRange",
								"type": "action",
								"name": "inRange",
								"parameters": {
									"name": {"value": "defaultNPCRange"},
									"position": {"key": "self"},
									"range": {"key": "<outerHomeRange>"},
									"target": {"key": "home"}
								}
							}
						}
					]	
				}
			]
		}
	}, {
		"op": "add",
		"path": "/root/children/0/children/1/children/0",
		"value": {
			"title": null,
			"type": "decorator",
			"name": "inverter",
			"parameters": {},
			"child": {
				"title": "hasRecruiter",
				"type": "action",
				"name": "hasRecruiter",
				"parameters": {}
			}
		}
	}, {
		"op": "add",
		"path": "/root/children/0/children/2/children/0",
		"value": {
			"title": null,
			"type": "decorator",
			"name": "inverter",
			"parameters": {},
			"child": {
				"title": "hasRecruiter",
				"type": "action",
				"name": "hasRecruiter",
				"parameters": {}
			}
		}
	}, {
		"op": "add",
		"path": "/root/children/0/children/3/children/0",
		"value": {
			"title": null,
			"type": "decorator",
			"name": "inverter",
			"parameters": {},
			"child": {
				"title": "hasRecruiter",
				"type": "action",
				"name": "hasRecruiter",
				"parameters": {}
			}
		}
	}, {
		"op": "add",
		"path": "/root/children/0/children/0",
		"value": {
			"title": "smartCrewBehavior",
			"type": "composite",
			"name": "sequence",
			"parameters": {},
			"children": [
				{
					"title": "hasRecruiter",
					"type": "action",
					"name": "hasRecruiter",
					"parameters": {}
				}, {
					"title": "inverter",
					"type": "decorator",
					"name": "inverter",
					"parameters": {},
					"child": {
						"title": "isFollowingRecruiter",
						"type": "action",
						"name": "isFollowingRecruiter",
						"parameters": {}
					}
				}, {
					"title": "mmrx_getCrewRole",
					"type": "action",
					"name": "mmrx_getCrewRole",
					"parameters": {},
					"output": {
						"role": "crewrole"
					}
				}, {
					"title": "mmrx_crewPickScheduledTask",
					"type": "action",
					"name": "mmrx_crewPickScheduledTask",
					"parameters": {
						"entity": {"key": "self"},
						"role": {"key": "crewrole"}
					},
					"output": {
						"task": "crewpickedtask"
					}
				}, {
					"title": null,
					"type": "decorator",
					"name": "succeeder",
					"parameters": {},
					"child": {
						"title": "taskSelection",
						"type": "composite",
						"name": "selector",
						"parameters": {},
						"children": [
							{
								"title": "loungeTask",
								"type": "composite",
								"name": "sequence",
								"parameters": {},
								"children": [
									{
										"title": "",
										"type": "action",
										"name": "mmrx_crewDoScheduledTask",
										"parameters": {
											"entity": {"key": "self"},
											"role": {"key": "crewrole"},
											"taskpick": {"key": "crewpickedtask"},
											"taskqueue": {"value": "lounge"}
										},
										"output": {
											"duration": "loungeDuration"
										}
									}, {
										"title": null,
										"type": "decorator",
										"name": "succeeder",
										"parameters": {},
										"child": {
											"title": "sit",
											"type": "module",
											"name": "sit",
											"parameters": {}
										}
									}
								]
							}, {
								"title": "roamTask",
								"type": "composite",
								"name": "sequence",
								"parameters": {},
								"children": [
									{
										"title": "",
										"type": "action",
										"name": "mmrx_crewDoScheduledTask",
										"parameters": {
											"entity": {"key": "self"},
											"role": {"key": "crewrole"},
											"taskpick": {"key": "crewpickedtask"},
											"taskqueue": {"value": "roam"}
										}
									}, {
										"title": null,
										"type": "decorator",
										"name": "succeeder",
										"parameters": {},
										"child": {
											"title": "roam",
											"type": "module",
											"name": "patrol",
											"parameters": {}
										}
									}
								]
							}, {
								"title": "sleepTask",
								"type": "composite",
								"name": "sequence",
								"parameters": {},
								"children": [
									{
										"title": "",
										"type": "action",
										"name": "mmrx_crewDoScheduledTask",
										"parameters": {
											"entity": {"key": "self"},
											"role": {"key": "crewrole"},
											"taskpick": {"key": "crewpickedtask"},
											"taskqueue": {"value": "sleep"}
										},
										"output": {
											"duration": "sleepDuration"
										}
									}, {
										"title": null,
										"type": "decorator",
										"name": "succeeder",
										"parameters": {},
										"child": {
											"title": "sleep",
											"type": "module",
											"name": "sleep",
											"parameters": {
												"sleepUntil": {"key": "sleepDuration"}
											}
										}
									}
								]
							}, {
								"title": "workTask",
								"type": "composite",
								"name": "sequence",
								"parameters": {},
								"children": [
									{
										"title": "",
										"type": "action",
										"name": "mmrx_crewDoScheduledTask",
										"parameters": {
											"entity": {
												"key": "self"
											},
											"role": {
												"key": "crewrole"
											},
											"taskpick": {
												"key": "crewpickedtask"
											},
											"taskqueue": {
												"value": "work"
											}
										},
										"output": {
											"duration": "workDuration"
										}
									}, {
										"title": "mmrx_crewFindRoleAnchor",
										"type": "action",
										"name": "mmrx_crewFindRoleAnchor",
										"parameters": {
											"entity": {
												"key": "self"
											},
											"position": {
												"key": "self"
											},
											"role": {
												"key": "crewrole"
											}
										},
										"output": {
											"entity": "marker"
										}
									}, {
										"title": "entityPosition",
										"type": "action",
										"name": "entityPosition",
										"parameters": {
											"name": {
												"value": "workMarker"
											},
											"entity": {
												"key": "marker"
											}
										},
										"output": {
											"position": "station"
										}
									}, {
										"title": "parallel",
										"type": "composite",
										"name": "parallel",
										"parameters": {
											"fail": {"value": -1},
											"success": {"value": 1}
										},
										"children": [
											{
												"title": "selector",
												"type": "composite",
												"name": "selector",
												"parameters": {},
												"children": [
													{
														"title": "",
														"type": "action",
														"name": "moveToPosition",
														"parameters": {
															"pathOptions": {"value": {"returnBest": true}},
															"position": {"key": "station"},
															"run": {"key": "<alwaysRun>"}
														}
													}, {
														"title": "parallel",
														"type": "composite",
														"name": "parallel",
														"parameters": {
															"fail": {"value": 2},
															"success": {"value": 2}
														},
														"children": [
															{
																"title": "distance",
																"type": "action",
																"name": "distance",
																"parameters": {
																	"from": {"key": "self"},
																	"to": {"key": "station"}
																},
																"output": {
																	"x": "stationX"
																}
															}, {
																"title": "inRange",
																"type": "action",
																"name": "inRange",
																"parameters": {
																	"position": {"key": "self"},
																	"range": {"key": "<crewStationRange>"},
																	"target": {"key": "station"}
																}
															}, {
																"title": "move",
																"type": "action",
																"name": "move",
																"parameters": {
																	"direction": {"key": "stationX"},
																	"run": {"value": false}
																}
															}
														]
													}
												]
											}, {
												"title": "inRange",
												"type": "action",
												"name": "inRange",
												"parameters": {
													"position": {"key": "self"},
													"range": {"value": 1},
													"target": {"key": "station"}
												}
											}
										]
									}, {
										"title": "mmrx_crewWorkRoleAction",
										"type": "action",
										"name": "mmrx_crewWorkRoleAction",
										"parameters": {
											"entity": {"key": "self"},
											"role": {"key": "crewrole"},
											"task": {"key": "crewpickedtask"}
										},
										"output": {
											"action": "moodAction",
											"duration": "moodDuration",
											"emote": "moodEmote",
											"speech": "moodSpeech"
										}
									}, {
										"title": "mmrx_setCrewMood",
										"type": "action",
										"name": "mmrx_setCrewMood",
										"parameters": {
											"action": {"key": "moodAction"},
											"duration": {"key": "moodDuration"},
											"emote": {"key": "moodEmote"},
											"speech": {"key": "moodSpeech"}
										}
									}
								]
							}
						]
					}
				}
			]
		}
	}
]